{"ast":null,"code":"import _slicedToArray from\"/Users/kdelay/Desktop/sobok_practice/sobok/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./Auth.module.css\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{provider}from\"fbase\";import{getAuth,GoogleAuthProvider,signInWithEmailAndPassword,signInWithPopup}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Auth=function Auth(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(name===\"email\"){setEmail(value);}else if(name===\"password\"){setPassword(value);}};var onSubmit=function onSubmit(e){e.preventDefault();var auth=getAuth();signInWithEmailAndPassword(auth,email,password).then(function(userCredential){// login\nvar user=userCredential.user;}).catch(function(error){/*\r\n            const errorCode = error.code;\r\n            const errorMessage = error.message;\r\n            */setError(error.code);setInterval(function(){return setError(\"\");},5000);setPassword(\"\");});};var onSocialClick=function onSocialClick(event){var auth=getAuth();signInWithPopup(auth,provider).then(function(result){// This gives you a Google Access Token. You can use it to access the Google API.\nvar credential=GoogleAuthProvider.credentialFromResult(result);var token=credential.accessToken;// The signed-in user info.\nvar user=result.user;// ...\n}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;// The email of the user's account used.\nvar email=error.customData.email;// The AuthCredential type that was used.\nvar credential=GoogleAuthProvider.credentialFromError(error);console.log(errorCode,errorMessage);});};useEffect(function(){},[useEffect]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.login_auth,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.login_box,children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"img\",{src:\"../images/sobok_logo.svg\",alt:\"sobok logo\",className:styles.login_logo}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",placeholder:\"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",onChange:onChange,value:email,required:true,className:\"\".concat(styles.ipt,\" \").concat(styles.email)}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",onChange:onChange,value:password,required:true,className:\"\".concat(styles.ipt,\" \").concat(styles.password)}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"\\uB85C\\uADF8\\uC778\",className:styles.logInBtn})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onSocialClick,name:\"google\",className:styles.socialLoginBtn,children:\"Google \\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.storekeeperContainer,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.title,children:\"\\uC810\\uC8FC\\uB2D8\\uC774\\uC2E0\\uAC00\\uC694?\"}),/*#__PURE__*/_jsx(Link,{to:\"/storekeeper_regist\",children:/*#__PURE__*/_jsx(\"button\",{className:styles.signUpBtn,children:\"\\uC810\\uC8FC \\uD68C\\uC6D0\\uAC00\\uC785 \\uC2E0\\uCCAD\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:styles.options,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC544\\uC774\\uB514 / \\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"})]}),error?/*#__PURE__*/_jsx(\"div\",{className:styles.help_container,children:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\\uB098 \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uD2C0\\uB9BD\\uB2C8\\uB2E4\"}):null]}),/*#__PURE__*/_jsxs(\"footer\",{className:styles.footer,children:[\"\\xA9 \",new Date().getFullYear(),\" Sobok\"]})]});};export default Auth;","map":{"version":3,"names":["styles","useState","useEffect","Link","provider","getAuth","GoogleAuthProvider","signInWithEmailAndPassword","signInWithPopup","Auth","email","setEmail","password","setPassword","error","setError","onChange","e","target","name","value","onSubmit","preventDefault","auth","then","userCredential","user","catch","code","setInterval","onSocialClick","event","result","credential","credentialFromResult","token","accessToken","errorCode","errorMessage","message","customData","credentialFromError","console","log","login_auth","login_box","login_logo","ipt","logInBtn","socialLoginBtn","storekeeperContainer","title","signUpBtn","options","help_container","footer","Date","getFullYear"],"sources":["/Users/kdelay/Desktop/sobok_practice/sobok/src/routes/Auth.js"],"sourcesContent":["\r\nimport styles from\"./Auth.module.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { provider } from \"fbase\";\r\nimport { \r\n    getAuth, \r\n    GoogleAuthProvider, \r\n    signInWithEmailAndPassword, \r\n    signInWithPopup \r\n} from \"firebase/auth\";\r\n\r\nconst Auth = () => {\r\n\r\n    const [email , setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n\r\n    const onChange = (e) => {\r\n        const{\r\n            target: {name, value},\r\n        } = e;\r\n        if(name === \"email\"){\r\n            setEmail(value)\r\n        }else if ( name === \"password\" ){\r\n            setPassword(value)\r\n        }\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const auth = getAuth();\r\n        signInWithEmailAndPassword(auth, email, password)\r\n        .then((userCredential) => {\r\n            // login\r\n            const user = userCredential.user;\r\n        })\r\n        .catch((error) => {\r\n            /*\r\n            const errorCode = error.code;\r\n            const errorMessage = error.message;\r\n            */\r\n            setError(error.code); \r\n            setInterval(() => setError(\"\") , 5000);\r\n            setPassword(\"\");\r\n        });\r\n    }\r\n\r\n    const onSocialClick = (event) => {\r\n        const auth = getAuth();\r\n        signInWithPopup(auth, provider)\r\n        .then((result) => {\r\n            // This gives you a Google Access Token. You can use it to access the Google API.\r\n            const credential = GoogleAuthProvider.credentialFromResult(result);\r\n            const token = credential.accessToken;\r\n            // The signed-in user info.\r\n            const user = result.user;\r\n            // ...\r\n        }).catch((error) => {\r\n            // Handle Errors here.\r\n            const errorCode = error.code;\r\n            const errorMessage = error.message;\r\n            // The email of the user's account used.\r\n            const email = error.customData.email;\r\n            // The AuthCredential type that was used.\r\n            const credential = GoogleAuthProvider.credentialFromError(error);\r\n            console.log(errorCode, errorMessage);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n    } , [useEffect])\r\n\r\n    \r\n    return(\r\n    <div className={styles.login_auth}>\r\n        <div className={styles.login_box}>\r\n\r\n            <form onSubmit={onSubmit}>\r\n                <img src=\"../images/sobok_logo.svg\" alt=\"sobok logo\" className={styles.login_logo}/>\r\n\r\n                <input \r\n                    name=\"email\" \r\n                    type=\"email\"\r\n                    placeholder=\"이메일을 입력해주세요.\" \r\n                    onChange={onChange}\r\n                    value={email}\r\n                    required \r\n                    className={`${styles.ipt} ${styles.email}`}\r\n                />\r\n                <input \r\n                    name=\"password\"\r\n                    type=\"password\" \r\n                    placeholder=\"비밀번호를 입력해주세요.\" \r\n                    onChange={onChange}\r\n                    value={password}\r\n                    required \r\n                    className={`${styles.ipt} ${styles.password}`}\r\n                />\r\n\r\n                <input type=\"submit\" value=\"로그인\" className={styles.logInBtn}/>\r\n            </form>\r\n\r\n            <button \r\n                type=\"button\"\r\n                onClick={onSocialClick}\r\n                name=\"google\"\r\n                className={styles.socialLoginBtn}\r\n            >\r\n                Google 로그인\r\n            </button>\r\n\r\n            <div className={styles.storekeeperContainer}>\r\n                <p className={styles.title}>점주님이신가요?</p>\r\n                <Link to=\"/storekeeper_regist\">\r\n                <button className={styles.signUpBtn}>점주 회원가입 신청</button>\r\n                </Link>\r\n            </div>\r\n\r\n            <ul className={styles.options}>\r\n                <li><Link to=\"/signup\">회원가입</Link></li>\r\n                <li>아이디 / 비밀번호 찾기</li>\r\n            </ul>\r\n\r\n            { (error) ?  \r\n                <div className={styles.help_container}>\r\n                    이메일 주소나 비밀번호가 틀립니다\r\n                </div>\r\n                :\r\n                null\r\n            }\r\n            \r\n        </div>\r\n        <footer className={styles.footer}>&copy; {new Date().getFullYear()} Sobok</footer>\r\n        \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Auth;"],"mappings":"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"},"metadata":{},"sourceType":"module"}